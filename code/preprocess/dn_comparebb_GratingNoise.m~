% dn_compareGratingNoise
%
% Here, we compare the broadband time course averaged across different
% types of stimuli. The prediction is that grating-triggered broadband time courses
% differ from the noise-triggered broadband time courses.

%% LOAD PRE-PROCESSED BROADBAND DATA

fName = 'dn_preprocessedData.mat';
fLoc  = fullfile(dn_ECoG_RootPath, 'data');
a     = load(fullfile(fLoc, fName));
data  = a.dt.ecog;

%% DERIVED VARIABLES

bb     = data.bb;
stimNm = data.stimNm;

%% CATEGORIZE STIMULI
% We can tegorize stimuli in two ways:
% (1) 7 types, each stimulus as its own type
% (2) 2 types, noise and grating

stimType = {}; bb_type  = {};

% stimType{1} = [1, 2, 3, 4, 5, 6, 7];
% stimType{2} = {[1, 2, 3], [4, 5, 6, 7]};
% 
% for iType = 1 : 2
%    for k = 1 :  
% end

% THE FIRST TYPE OF STIMULUS GROUPING -------------------------------------
for iband = 1 : 2
    for iType = 1 : 7
        bb_type{iband, 1}(iType, :, :) = squeeze(mean(bb{iband}(stimNm == iType, :, :)));
    end
end

% THE SECOND TYPE OF STIMULUS GROUPING ------------------------------------
for iband = 1 : 2
    bb_type{iband, 1}(iType, :, :) = squeeze(mean(bb{iband}(stimNm == iType, :, :)));
end